弹幕系统 Danmuku
================
[TOC]

## 流程
![](http://img.2222.moe/images/2016/02/01/f67e8e437a2e3b99.png)

### 用户发送弹幕流程

### 用户获取弹幕流程

### 用户举报流程

### 服务器管理

## 功能细节

### 身份验证

+ [新浪微博](http://open.weibo.com/wiki/%E6%8E%88%E6%9D%83%E6%9C%BA%E5%88%B6)
+ [QQ](http://wiki.connect.qq.com/sdk%E4%B8%8B%E8%BD%BD)
+ [百度](http://developer.baidu.com/wiki/index.php?title=%E5%B8%AE%E5%8A%A9%E6%96%87%E6%A1%A3%E9%A6%96%E9%A1%B5/%E7%99%BE%E5%BA%A6%E5%B8%90%E5%8F%B7%E8%BF%9E%E6%8E%A5)

> 现在还不是很清楚流程，暂时不管

### 屏蔽规则

屏蔽规则可以进行修改，在服务器端完成

#### 关键词屏蔽
+ 辱骂、脏话
就是脏话。
使用关键词进行屏蔽

+ 无意义弹幕
例如：前排，火钳刘明，发弹幕不卡，30秒广告，前1000等

+ 人名弹幕
例如：xxx我知道你在看，xxx我宣你，到此一游 by xxx等

#### 其他类型
+ 过长弹幕
例如： 厂下广卞廿十一卉半与本二
例如：▁▂▃▄▅▆▇█▇▆▅▄▃▂▁▁▂▃▄▅▆
例如：←↓↗↘↑←↙→↓←↗↓←↖↓
例如：◀█▶◀ 。o○ 　◀█▶◀ 。o○
检测弹幕长度。暂定30字

+ 刷屏弹幕
例如：短时间内发送过多相同弹幕或者单字，竖向弹幕等
检查用户是否在发送相同内容。最近15条弹幕或者最近3分钟

+ 引战弹幕
例如：xxx垃圾，xx没有xx好，甜党是异端/咸党是异端，地域攻击，地图炮等
一部分可以使用关键字。

#### 无法自动屏蔽

+ 恶意剧透弹幕
例如：xx是凶手,xx死了，xx便当，xx后来xxx了等

+ 与视频内容不相关弹幕
例如，从隔壁XXX过来，复制up主签名等

+ 过于恶俗空耳内容，危险链接，广告及qq号

### 弹幕

#### 弹幕类型

+ 滚动弹幕
> 从右至左进行滚动运动的弹幕为滚动弹幕，也是默认使用的弹幕，您可以使用该模式的弹幕进行一些对视频情节的吐嘈和短评，文字字数以7-25字内最佳。

+ 顶端弹幕
 >保持在影片画面最上方并居中排列文字的弹幕，您可以使用此模式进行重点吐嘈或指明部分细节画面，甚至搭配小号字体对当前视频画面进行详细的分析和细节出处讲解，或进行空耳翻译。

+ 底端弹幕
> 保持在影片画面最下方并居中排列文字的弹幕。在视频没有翻译的情况下为没有翻译的外文视频提供语言翻译功能，请不要使用底端弹幕遮挡原视频字幕。

+ 高级弹幕
> 暂不支持

#### 弹幕颜色

+ 白色、黄色、红色、蓝色
+ HTML颜色
aqua、black、blue、fuchsia、gray、green、lime、maroon、navy、olive、purple、red、silver、teal、white、yellow

#### 弹幕属性
+ 发送用户标识

+ 发送时间

+ 内容

+ 弹幕类型

+ 弹幕颜色

+ 大小
